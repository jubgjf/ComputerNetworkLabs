# IPv4 分组收发与转发

## 分组收发

1. 实现 IPv4 分组的基本接收处理功能
   - 对于接收到的 IPv4 分组，检查目的地址是否为本地地址，并检查 IPv4 分组头部中其它字段的合法性。提交正确的分组给上层协议继续处理，丢弃错误的分组并说明错误类型。
2. 实现 IPv4 分组的封装发送
   - 根据上层协议所提供的参数，封装 IPv4 分组，调用系统提供的发送接口函数将分组发送出去。

## 分组转发

在前面 IPv4 分组收发实验的基础上，增加分组转发功能。具体来说，对于每一个到达本机的 IPv4 分组，根据其目的 IPv4 地址决定分组的处理行为，对该分组进行如下的几类操作：

1. 向上层协议上交目的地址为本机地址的分组；
2. 根据路由查找结果，丢弃查不到路由的分组；
3. 根据路由查找结果，向相应接口转发不是本机接收的分组。
